<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1564" height="912" version="1.1"><desc>title%20Workspace%20image%20build%20flow%0A%0A%0Aserver-%3Eimage-builder-mk3%3A%20buildWorkspaceImage%0A%0Aimage-builder-mk3-%3Ews-manager%3A%20Start%20headless%20workspace%0A%0Aparticipantgroup%20Headless%20workspace%0Aparticipant%20supervisor%0Aparticipant%20bob%20build%0Aparticipant%20bob%20proxy%0Aend%0A%0Aws-manager-%3Ebob%20build%3A%20Create%20workspace%20that%5Cnruns%20image-builder-bob%0A%0A%0Aimage-builder-mk3-%3Ews-manager%3A%20Subscribe%20to%20image%20build%5Cnworkspace%20updates%0Aimage-builder-mk3-%3Eserver%3A%20streams%20BuildInfo%2C%5Cnincluding%20log%20URL%0A%0Aserver-%3Esupervisor%3A%20Watch%20image%20build%20logs%5Cnusing%20headless-log-service%0A%0Agroup%20Custom%20base%20image%20%5Bnot%20yet%20built%20for%20ws%5D%0Abob%20build-%3Ebob%20proxy%3A%20Build%20and%20push%20base%20layer%0Abob%20proxy-%3Ebase%20image%20repository%3A%20Proxy%20%26%20authenticate%5Cnpush%20to%20repository%0A%0Aend%0A%0Abob%20build-%3Ebob%20proxy%3A%20Build%20and%20push%20workspace%5Cnimage%20from%20base%20layer%0Abob%20proxy-%3Eworkspace%20image%20repository%3A%20Proxy%20%26%20authenticate%5Cnpush%20to%20repository%0A</desc><g><g><rect width="1564" height="912" x="0" y="0" fill="#fff" stroke="none"/></g><g><text x="645.388" y="26.388" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="22" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Workspace image build flow</text></g><g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 553.5433677062135 54.270571579000006 L 1012.6913882259896 54.270571579000006 L 1012.6913882259896 903.6885776379997 L 553.5433677062135 903.6885776379997 L 553.5433677062135 54.270571579000006" paint-order="fill stroke markers"/></g><g><text x="715.487" y="78.899" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Headless workspace</text></g></g><g><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 48.24798674853125 143.72465795799997 L 48.24798674853125 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 239.9409560261354 143.72465795799997 L 239.9409560261354 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 454.7119282334271 143.72465795799997 L 454.7119282334271 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 615.2380173575768 143.72465795799997 L 615.2380173575768 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 734.5686313575691 143.72465795799997 L 734.5686313575691 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 952.6180612064622 143.72465795799997 L 952.6180612064622 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 1226.0072104930468 143.72465795799997 L 1226.0072104930468 903.6885776379997" paint-order="fill stroke markers"/><path fill="none" stroke="#000" stroke-dasharray="13.532 5.864" stroke-miterlimit="10" stroke-width="1.466" d="M 1445.1445108944063 143.72465795799997 L 1445.1445108944063 903.6885776379997" paint-order="fill stroke markers"/></g><g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 8.795878699999996 96.226912978 L 87.70009479706249 96.226912978 L 87.70009479706249 143.724657958 L 8.795878699999996 143.724657958 L 8.795878699999996 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="27.883" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">server</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 160.15600801178385 96.226912978 L 319.72590404048697 96.226912978 L 319.72590404048697 143.724657958 L 160.15600801178385 143.724657958 L 160.15600801178385 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="179.243" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">image-builder-mk3</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 395.2956096746419 96.226912978 L 514.1282467922123 96.226912978 L 514.1282467922123 143.724657958 L 395.2956096746419 143.724657958 L 395.2956096746419 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="414.383" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">ws-manager</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 562.3392464062135 96.226912978 L 668.1367883089401 96.226912978 L 668.1367883089401 143.724657958 L 562.3392464062135 143.724657958 L 562.3392464062135 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="581.426" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">supervisor</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 685.7285457089401 96.226912978 L 783.408717006198 96.226912978 L 783.408717006198 143.724657958 L 685.7285457089401 143.724657958 L 685.7285457089401 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="704.816" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">bob build</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 901.3406128869349 96.226912978 L 1003.8955095259896 96.226912978 L 1003.8955095259896 143.724657958 L 901.3406128869349 143.724657958 L 901.3406128869349 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="920.428" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">bob proxy</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 1134.8049422272304 96.226912978 L 1317.2094787588633 96.226912978 L 1317.2094787588633 143.724657958 L 1134.8049422272304 143.724657958 L 1134.8049422272304 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="1153.892" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">base image repository</text></g><path fill="none" stroke="none"/><g><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.815" d="M 1334.8012361588633 96.226912978 L 1555.4877856299493 96.226912978 L 1555.4877856299493 143.724657958 L 1334.8012361588633 143.724657958 L 1334.8012361588633 96.226912978 Z" paint-order="fill stroke markers"/></g><g><text x="1353.888" y="126.133" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">workspace image repository</text></g></g><g><g><text x="71.704" y="194.741" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">buildWorkspaceImage</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 48.24798674853125 201.77745737799995 L 225.45707576680206 201.77745737799995" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 225.28115819280208 194.44755846133327 L 239.9409560261354 201.77745737799995 L 225.28115819280208 209.10735629466663 Z" paint-order="stroke fill markers" transform="translate(239.9409560261354,201.77745737799995) translate(-239.9409560261354,-201.77745737799995)"/></g></g><g><text x="263.397" y="243.998" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Start headless workspace</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 239.9409560261354 251.03437809799993 L 440.2280479740938 251.03437809799993" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 440.05213040009374 243.70447918133326 L 454.7119282334271 251.03437809799993 L 440.05213040009374 258.3642770146666 Z" paint-order="stroke fill markers" transform="translate(454.7119282334271,251.03437809799993) translate(-454.7119282334271,-251.03437809799993)"/></g></g><g><text x="519.265" y="293.255" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Create workspace that</text><text x="519.265" y="310.846" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">runs image-builder-bob</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 454.7119282334271 317.8830562179999 L 720.0847510982358 317.8830562179999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 719.9088335242358 310.5531573013333 L 734.5686313575691 317.8830562179999 L 719.9088335242358 325.2129551346666 Z" paint-order="stroke fill markers" transform="translate(734.5686313575691,317.8830562179999) translate(-734.5686313575691,-317.8830562179999)"/></g></g><g><text x="267.058" y="360.103" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Subscribe to image build</text><text x="267.058" y="377.695" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">workspace updates</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 239.9409560261354 384.7317343379999 L 440.2280479740938 384.7317343379999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 440.05213040009374 377.40183542133326 L 454.7119282334271 384.7317343379999 L 440.05213040009374 392.06163325466656 Z" paint-order="stroke fill markers" transform="translate(454.7119282334271,384.7317343379999) translate(-454.7119282334271,-384.7317343379999)"/></g></g><g><text x="85.43" y="426.952" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">streams BuildInfo,</text><text x="85.43" y="444.544" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">including log URL</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 239.9409560261354 451.5804124579999 L 62.73186700786458 451.5804124579999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 62.907784581864576 444.25051354133325 L 48.24798674853125 451.5804124579999 L 62.907784581864576 458.91031137466655 Z" paint-order="stroke fill markers" transform="translate(48.24798674853125,451.5804124579999) translate(-48.24798674853125,-451.5804124579999)"/></g></g><g><text x="244.961" y="493.801" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Watch image build logs</text><text x="244.961" y="511.392" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">using headless-log-service</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 48.24798674853125 518.4290905779999 L 600.7541370982435 518.4290905779999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 600.5782195242435 511.09919166133324 L 615.2380173575768 518.4290905779999 L 600.5782195242435 525.7589894946666 Z" paint-order="stroke fill markers" transform="translate(615.2380173575768,518.4290905779999) translate(-615.2380173575768,-518.4290905779999)"/></g></g><g><text x="759.241" y="608.147" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Build and push base layer</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 734.5686313575691 615.1837562779999 L 938.1341809471289 615.1837562779999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 937.958263373129 607.8538573613332 L 952.6180612064622 615.1837562779999 L 937.958263373129 622.5136551946666 Z" paint-order="stroke fill markers" transform="translate(952.6180612064622,615.1837562779999) translate(-952.6180612064622,-615.1837562779999)"/></g></g><g><text x="1021.675" y="657.404" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Proxy &amp; authenticate</text><text x="1021.675" y="674.996" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">push to repository</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 952.6180612064622 682.0324343979999 L 1211.5233302337135 682.0324343979999" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1211.3474126597134 674.7025354813331 L 1226.0072104930468 682.0324343979999 L 1211.3474126597134 689.3623333146666 Z" paint-order="stroke fill markers" transform="translate(1226.0072104930468,682.0324343979999) translate(-1226.0072104930468,-682.0324343979999)"/></g></g><g><text x="758.024" y="750.64" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Build and push workspace</text><text x="758.024" y="768.232" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">image from base layer</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 734.5686313575691 775.2687486179998 L 938.1341809471289 775.2687486179998" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 937.958263373129 767.9388497013331 L 952.6180612064622 775.2687486179998 L 937.958263373129 782.5986475346665 Z" paint-order="stroke fill markers" transform="translate(952.6180612064622,775.2687486179998) translate(-952.6180612064622,-775.2687486179998)"/></g></g><g><text x="1131.244" y="817.489" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">Proxy &amp; authenticate</text><text x="1131.244" y="835.081" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-anchor="start" text-decoration="normal" xml:space="preserve">push to repository</text></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="1.466" d="M 952.6180612064622 842.1174267379997 L 1430.660630635073 842.1174267379997" paint-order="fill stroke markers"/><g><path fill="#000" stroke="none" d="M 1430.4847130610729 834.787527821333 L 1445.1445108944063 842.1174267379997 L 1430.4847130610729 849.4473256546664 Z" paint-order="stroke fill markers" transform="translate(1445.1445108944063,842.1174267379997) translate(-1445.1445108944063,-842.1174267379997)"/></g></g><g><path fill="none" stroke="#000" stroke-miterlimit="10" stroke-width="2.513" d="M 672.997480457569 544.8167266779999 L 1287.5783613930469 544.8167266779999 L 1287.5783613930469 708.4200704979999 L 672.997480457569 708.4200704979999 L 672.997480457569 544.8167266779999 Z" paint-order="fill stroke markers"/><path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2.513" d="M 672.997480457569 544.8167266779999 L 672.997480457569 565.9268355579999 L 818.9973252136238 565.9268355579999 L 829.5523796536238 555.371781118 L 829.5523796536238 544.8167266779999 L 672.997480457569 544.8167266779999" paint-order="fill stroke markers"/><text x="690.589" y="558.89" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">Custom base image</text><g><rect width="117.354" height="18.295" x="844.505" y="546.224" fill="#fff" stroke="none"/></g><text x="847.144" y="558.89" fill="#000" stroke="none" dominant-baseline="alphabetic" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-anchor="start" text-decoration="normal" xml:space="preserve">[not yet built for ws]</text></g></g></g></svg>